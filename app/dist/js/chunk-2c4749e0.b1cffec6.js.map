{"version":3,"sources":["webpack:///./src/views/Setting.vue?d994","webpack:///./src/views/Profile.vue?e9a2","webpack:///src/views/Profile.vue","webpack:///./src/views/Profile.vue?db63","webpack:///./src/views/Profile.vue","webpack:///./src/views/Password.vue?9810","webpack:///src/views/Password.vue","webpack:///./src/views/Password.vue?678a","webpack:///./src/views/Password.vue","webpack:///src/views/Setting.vue","webpack:///./src/views/Setting.vue?73df","webpack:///./src/views/Setting.vue","webpack:///./src/views/Profile.vue?63ce","webpack:///./src/services/user.js","webpack:///./src/common/config.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","key","slot","_v","staticRenderFns","profile","labelCol","wrapperCol","avatar","uploadAction","beforeUpload","customRequest","directives","name","rawName","value","expression","rules","pattern","emailPattern","message","on","handleGenderChange","minRows","maxRows","span","offset","handleSubmit","$form","createForm","config","qiniuToken","getProfile","methods","validateFields","err","values","data","Object","keys","filter","k","forEach","updateProfile","files","upload","file","then","res","ok","$message","error","success","isJPG","type","isLt2M","size","setFieldsValue","gender","nickname","email","city","toString","summary","component","Password","required","newPwd","surePwd","info","old_pwd","oldPwd","new_pwd","components","Profile","async","register","password","par","post","login","getInfo","url","get","modifyInfo","put","modifyPassword","qiniuUrl","qiniuUploadUrl"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,eAAeC,MAAM,CAAC,iBAAmB,MAAM,CAACH,EAAG,aAAa,CAACI,IAAI,KAAK,CAACJ,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,OAAOE,KAAK,OAAO,CAACL,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,UAAUP,EAAIU,GAAG,UAAU,GAAGN,EAAG,YAAY,GAAGA,EAAG,aAAa,CAACI,IAAI,KAAK,CAACJ,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,OAAOE,KAAK,OAAO,CAACL,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,YAAYP,EAAIU,GAAG,UAAU,GAAGN,EAAG,aAAa,IAAI,IAAI,IAC7dO,EAAkB,GCDlB,EAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAOP,EAAIY,UAAU,CAACR,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,YAAYP,EAAIa,SAAS,cAAcb,EAAIc,aAAa,CAACV,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,QAAQ,IAAMP,EAAIe,OAAO,KAAO,UAAUX,EAAG,WAAW,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,SAAS,SAAW,OAAO,gBAAiB,EAAM,OAASP,EAAIgB,aAAa,aAAehB,EAAIiB,aAAa,cAAgBjB,EAAIkB,gBAAgB,CAACd,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,UAAU,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,YAAYP,EAAIU,GAAG,QAAQ,IAAI,IAAI,GAAGN,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,YAAYP,EAAIa,SAAS,cAAcb,EAAIc,aAAa,CAACV,EAAG,UAAU,CAACe,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,YAAaC,WAAW,iBAAiBjB,YAAY,UAAU,GAAGF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,YAAYP,EAAIa,SAAS,cAAcb,EAAIc,aAAa,CAACV,EAAG,UAAU,CAACe,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,QAAS,CAAEE,MAAO,CAAC,CAACC,QAASzB,EAAI0B,aAAeC,QAAS,aAAgBJ,WAAW,yEAAyEjB,YAAY,UAAU,GAAGF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,YAAYP,EAAIa,SAAS,cAAcb,EAAIc,aAAa,CAACV,EAAG,UAAU,CAACe,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,QAASC,WAAW,aAAajB,YAAY,OAAOC,MAAM,CAAC,YAAc,cAAc,GAAGH,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,YAAYP,EAAIa,SAAS,cAAcb,EAAIc,aAAa,CAACV,EAAG,WAAW,CAACe,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,UAAWC,WAAW,eAAejB,YAAY,OAAOC,MAAM,CAAC,YAAc,QAAQqB,GAAG,CAAC,OAAS5B,EAAI6B,qBAAqB,CAACzB,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAM,CAACP,EAAIU,GAAG,OAAON,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAM,CAACP,EAAIU,GAAG,QAAQ,IAAI,GAAGN,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,YAAYP,EAAIa,SAAS,cAAcb,EAAIc,aAAa,CAACV,EAAG,aAAa,CAACe,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,WAAYC,WAAW,gBAAgBjB,YAAY,OAAOC,MAAM,CAAC,YAAc,eAAe,SAAW,CAAEuB,QAAS,EAAGC,QAAS,QAAS,GAAG3B,EAAG,cAAc,CAACG,MAAM,CAAC,cAAc,CAAEyB,KAAM,GAAIC,OAAQ,KAAM,CAAC7B,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,UAAU,YAAY,UAAUqB,GAAG,CAAC,MAAQ5B,EAAIkC,eAAe,CAAClC,EAAIU,GAAG,SAAS,IAAI,IAAI,IAC33E,EAAkB,G,oCC+DP,GACbU,KAAM,UACN,OACE,MAAO,CACLL,OAAQ,GACRH,QAASX,KAAKkC,MAAMC,WAAWnC,KAAM,CAAEmB,KAAM,YAC7CP,SAAU,CAAEmB,KAAM,GAClBlB,WAAY,CAAEkB,KAAM,GACpBhB,aAAc,mBACdU,aAAcW,EAAA,KAAOX,aACrBY,WAAY,KAGhB,UACErC,KAAKsC,cAOPC,QAAS,CACP,eACEvC,KAAKW,QAAQ6B,eAAe,CAACC,EAAKC,KAChC,IAAKD,EAAK,CACR,IAAIE,EAAO,GACXC,OAAOC,KAAKH,GACTI,OAAOC,GAAKL,EAAOK,IACnBC,QAAQD,GAAMJ,EAAKI,GAAKL,EAAOK,IAClC/C,KAAKiD,cAAcN,OAIzB,cAAcO,GACZ,OAAKC,OAAOD,EAAME,KAAMpD,KAAKe,cAAcsC,KAAKC,IACzCA,EAAIC,GAITvD,KAAKiD,cAAc,CACjBnC,OAAQ,aAAiCwC,EAAIX,KAAK7B,WAJlDd,KAAKwD,SAASC,MAAM,WAQ1B,cAAcd,GACZ,eAAWA,GAAMU,KAAKC,IACpB,GAAIA,EAAIC,GAGN,OAFAvD,KAAKsC,kBACLtC,KAAKwD,SAASE,QAAQ,QAGxB1D,KAAKwD,SAASC,MAAM,WAGxB,aAAaL,GACX,MAAMO,EAAsB,eAAdP,EAAKQ,KACnB,IAAKD,EAEH,OADA3D,KAAKwD,SAASC,MAAM,sBACb,EAET,MAAMI,EAAST,EAAKU,KAAO,KAAO,KAAO,EACzC,OAAKD,EAIEF,GAASE,GAHd7D,KAAKwD,SAASC,MAAM,eACb,IAIX,mBAAmBpC,GACjBrB,KAAKW,QAAQoD,eAAe,CAAEC,OAAQ3C,KAExC,aACE,iBAAUgC,KAAKC,IACTA,EAAIC,KACNvD,KAAKc,OAASwC,EAAIX,KAAK7B,OACvBd,KAAKW,QAAQoD,eAAe,CAC1BE,SAAUX,EAAIX,KAAKsB,SACnBC,MAAOZ,EAAIX,KAAKuB,MAChBC,KAAMb,EAAIX,KAAKwB,KACfH,OAAQV,EAAIX,KAAKqB,OAAOI,WACxBC,QAASf,EAAIX,KAAK0B,gBC/IyM,I,wBCQnOC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAIvE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAOP,EAAIwE,WAAW,CAACpE,EAAG,cAAc,CAACG,MAAM,CAAC,cAAcP,EAAIc,aAAa,CAACV,EAAG,mBAAmB,CAACe,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,SAAU,CAAEE,MAAO,CAAC,CAAEiD,UAAU,EAAM9C,QAAS,aAAgBJ,WAAW,mEAAmEhB,MAAM,CAAC,YAAc,UAAU,GAAGH,EAAG,cAAc,CAACG,MAAM,CAAC,cAAcP,EAAIc,aAAa,CAACV,EAAG,mBAAmB,CAACe,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,SAAU,CAAEE,MAAO,CAAC,CAAEiD,UAAU,EAAM9C,QAAS,aAAgBJ,WAAW,mEAAmEhB,MAAM,CAAC,YAAc,UAAU,GAAGH,EAAG,cAAc,CAACG,MAAM,CAAC,cAAcP,EAAIc,aAAa,CAACV,EAAG,mBAAmB,CAACe,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,UAAW,CAAEE,MAAO,CAAC,CAAEiD,UAAU,EAAM9C,QAAS,eAAkBJ,WAAW,sEAAsEhB,MAAM,CAAC,YAAc,aAAa,GAAGH,EAAG,cAAc,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,YAAY,UAAUqB,GAAG,CAAC,MAAQ5B,EAAIkC,eAAe,CAAClC,EAAIU,GAAG,SAAS,IAAI,IAAI,IACltC,EAAkB,GC8BP,GACbU,KAAM,WACN,OACE,MAAO,CACLoD,SAAUvE,KAAKkC,MAAMC,WAAWnC,KAAM,CAAEmB,KAAM,aAC9CN,WAAY,CAAEkB,KAAM,KAGxBQ,QAAS,CACP,eACEvC,KAAKuE,SAAS/B,eAAe,CAACC,EAAKC,KACjC,IAAKD,EAAK,CACR,GAAGC,EAAO+B,QAAU/B,EAAOgC,QAEzB,YADA1E,KAAKwD,SAASmB,KAAK,WAGrB,eAAe,CACbC,QAASlC,EAAOmC,OAChBC,QAASpC,EAAO+B,SACfpB,KAAKC,IACHA,EAAIC,GACLvD,KAAKwD,SAASE,QAAQ,QAEtB1D,KAAKwD,SAASC,MAAM,SAEtBzD,KAAKuE,SAASR,eAAe,CAACc,OAAO,GAAGJ,OAAO,GAAGC,QAAQ,aCxDkK,ICOpO,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QCWA,GACbvD,KAAM,UACN4D,WAAY,CAAEC,UAAST,YACvB,OACE,MAAO,IAET,YACAhC,QAAS,ICpC4N,ICOnO,EAAY,eACd,EACAzC,EACAY,GACA,EACA,KACA,WACA,MAIa,e,6CClBf,yBAAumB,EAAG,G,oCCA1mB,0LAEOuE,eAAeC,EAASC,EAAUjB,EAAOpD,GAC5C,IAAIsE,EAAM,CAAEzC,KAAM,CAAEwC,WAAUjB,QAAOpD,UACrC,IAAU,qBACV,aAAa,OAAKuE,KAAKD,GAGpBH,eAAeK,EAAMpB,EAAOiB,GAC/B,IAAIC,EAAM,CAAEzC,KAAM,CAAEuB,QAAOiB,YAC3B,IAAU,kBACV,aAAa,OAAKE,KAAKD,GAQpBH,eAAeM,IAClB,IAAIH,EAAM,CAAEI,IAAK,cACjB,aAAa,OAAKC,IAAIL,GAGnBH,eAAeS,EAAW/C,GAC7B,IAAIyC,EAAM,CAAEI,IAAK,aAAc7C,QAC/B,aAAa,OAAKgD,IAAIP,GAEnBH,eAAeW,EAAejD,GACjC,IAAIyC,EAAM,CAAEI,IAAK,gBAAiB7C,QAClC,aAAa,OAAKgD,IAAIP,K,kCC9BX,QACXS,SAAU,oCACVC,eAAgB,yBAChBrE,aAAc","file":"js/chunk-2c4749e0.b1cffec6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-tabs',{staticClass:\"setting-tabs\",attrs:{\"defaultActiveKey\":\"1\"}},[_c('a-tab-pane',{key:\"1\"},[_c('span',{attrs:{\"slot\":\"tab\"},slot:\"tab\"},[_c('a-icon',{attrs:{\"type\":\"user\"}}),_vm._v(\"个人资料 \")],1),_c('Profile')],1),_c('a-tab-pane',{key:\"2\"},[_c('span',{attrs:{\"slot\":\"tab\"},slot:\"tab\"},[_c('a-icon',{attrs:{\"type\":\"safety\"}}),_vm._v(\"密码修改 \")],1),_c('Password')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-form',{attrs:{\"form\":_vm.profile}},[_c('a-form-item',{attrs:{\"label\":\"头像\",\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-avatar',{staticClass:\"item\",attrs:{\"size\":\"large\",\"src\":_vm.avatar,\"icon\":\"user\"}}),_c('a-upload',{staticClass:\"upload-btn\",attrs:{\"name\":\"avatar\",\"listType\":\"text\",\"showUploadList\":false,\"action\":_vm.uploadAction,\"beforeUpload\":_vm.beforeUpload,\"customRequest\":_vm.customRequest}},[_c('a-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_c('a-icon',{attrs:{\"type\":\"upload\"}}),_vm._v(\"上传 \")],1)],1)],1),_c('a-form-item',{attrs:{\"label\":\"昵称\",\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['nickname']),expression:\"['nickname']\"}],staticClass:\"item\"})],1),_c('a-form-item',{attrs:{\"label\":\"邮箱\",\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['email' ,{ rules: [{pattern: _vm.emailPattern , message: '邮箱格式错误' }] }]),expression:\"['email' ,{ rules: [{pattern: emailPattern , message: '邮箱格式错误' }] }]\"}],staticClass:\"item\"})],1),_c('a-form-item',{attrs:{\"label\":\"城市\",\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['city']),expression:\"['city']\"}],staticClass:\"item\",attrs:{\"placeholder\":\"还没选择城市呢\"}})],1),_c('a-form-item',{attrs:{\"label\":\"性别\",\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['gender']),expression:\"['gender']\"}],staticClass:\"item\",attrs:{\"placeholder\":\"选择性别\"},on:{\"change\":_vm.handleGenderChange}},[_c('a-select-option',{attrs:{\"value\":\"0\"}},[_vm._v(\"男\")]),_c('a-select-option',{attrs:{\"value\":\"1\"}},[_vm._v(\"女\")])],1)],1),_c('a-form-item',{attrs:{\"label\":\"简介\",\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-textarea',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['summary']),expression:\"['summary']\"}],staticClass:\"item\",attrs:{\"placeholder\":\"这个人很懒，什么也没写。\",\"autosize\":{ minRows: 3, maxRows: 12 }}})],1),_c('a-form-item',{attrs:{\"wrapper-col\":{ span: 12, offset: 1 }}},[_c('a-button',{staticClass:\"item\",attrs:{\"type\":\"primary\",\"html-type\":\"submit\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确认\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-form :form=\"profile\">\n      <a-form-item label=\"头像\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\n        <a-avatar size=\"large\" class=\"item\" :src=\"avatar\" icon=\"user\" />\n        <a-upload\n          name=\"avatar\"\n          listType=\"text\"\n          class=\"upload-btn\"\n          :showUploadList=\"false\"\n          :action=\"uploadAction\"\n          :beforeUpload=\"beforeUpload\"\n          :customRequest=\"customRequest\"\n        >\n          <a-button type=\"primary\" size=\"small\">\n            <a-icon type=\"upload\" />上传\n          </a-button>\n        </a-upload>\n      </a-form-item>\n      <a-form-item label=\"昵称\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\n        <a-input v-decorator=\"['nickname']\" class=\"item\" />\n      </a-form-item>\n\n      <a-form-item label=\"邮箱\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\n        <a-input\n          v-decorator=\"['email' ,{ rules: [{pattern: emailPattern , message: '邮箱格式错误' }] }]\"\n          class=\"item\"\n        />\n      </a-form-item>\n      <a-form-item label=\"城市\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\n        <a-input v-decorator=\"['city']\" placeholder=\"还没选择城市呢\" class=\"item\" />\n      </a-form-item>\n      <a-form-item label=\"性别\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\n        <a-select\n          class=\"item\"\n          placeholder=\"选择性别\"\n          v-decorator=\"['gender']\"\n          @change=\"handleGenderChange\"\n        >\n          <a-select-option value=\"0\">男</a-select-option>\n          <a-select-option value=\"1\">女</a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item label=\"简介\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\n        <a-textarea\n          class=\"item\"\n          v-decorator=\"['summary']\"\n          placeholder=\"这个人很懒，什么也没写。\"\n          :autosize=\"{ minRows: 3, maxRows: 12 }\"\n        />\n      </a-form-item>\n      <a-form-item :wrapper-col=\"{ span: 12, offset: 1 }\">\n        <a-button @click=\"handleSubmit\" class=\"item\" type=\"primary\" html-type=\"submit\">确认</a-button>\n      </a-form-item>\n    </a-form>\n  </div>\n</template>\n\n<script>\nimport Http from \"@/services/http\";\nimport { getInfo, modifyInfo } from \"@/services/user\";\nimport config from \"@/common/config\";\n// import { getQiniuToken, uploadImage } from \"@/services/qiniu\";\n\nexport default {\n  name: \"Profile\",\n  data() {\n    return {\n      avatar: \"\",\n      profile: this.$form.createForm(this, { name: \"profile\" }),\n      labelCol: { span: 1 },\n      wrapperCol: { span: 6 },\n      uploadAction: \"/api/file/upload\",\n      emailPattern: config.emailPattern,\n      qiniuToken: \"\"\n    };\n  },\n  created() {\n    this.getProfile();\n    // getQiniuToken().then(res => {\n    //   if (res.ok) {\n    //     this.qiniuToken = res.data.token;\n    //   }\n    // });\n  },\n  methods: {\n    handleSubmit() {\n      this.profile.validateFields((err, values) => {\n        if (!err) {\n          let data = {};\n          Object.keys(values)\n            .filter(k => values[k])\n            .forEach(k => (data[k] = values[k]));\n          this.updateProfile(data);\n        }\n      });\n    },\n    customRequest(files) {\n      Http.upload(files.file, this.uploadAction).then(res => {\n        if (!res.ok) {\n          this.$message.error(\"上传失败\");\n          return;\n        }\n        this.updateProfile({\n          avatar: `${process.env.VUE_APP_SERVER}/${res.data.avatar}`\n        });\n      });\n    },\n    updateProfile(data) {\n      modifyInfo(data).then(res => {\n        if (res.ok) {\n          this.getProfile();\n          this.$message.success(`更新成功`);\n          return;\n        }\n        this.$message.error(`更新失败`);\n      });\n    },\n    beforeUpload(file) {\n      const isJPG = file.type === \"image/jpeg\";\n      if (!isJPG) {\n        this.$message.error(\"只接受 JPEG 和 JPG 格式\");\n        return false;\n      }\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isLt2M) {\n        this.$message.error(\"图片大小需在2M以下\");\n        return false;\n      }\n      return isJPG && isLt2M;\n    },\n    handleGenderChange(value) {\n      this.profile.setFieldsValue({ gender: value });\n    },\n    getProfile() {\n      getInfo().then(res => {\n        if (res.ok) {\n          this.avatar = res.data.avatar;\n          this.profile.setFieldsValue({\n            nickname: res.data.nickname,\n            email: res.data.email,\n            city: res.data.city,\n            gender: res.data.gender.toString(),\n            summary: res.data.summary\n          });\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.item {\n  margin-left: 12px;\n}\n.upload-btn {\n  margin-left: 24px;\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=cbbd6de4&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=cbbd6de4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cbbd6de4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-form',{attrs:{\"form\":_vm.Password}},[_c('a-form-item',{attrs:{\"wrapper-col\":_vm.wrapperCol}},[_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['oldPwd', { rules: [{ required: true, message: '请输入原密码' }] }]),expression:\"['oldPwd', { rules: [{ required: true, message: '请输入原密码' }] }]\"}],attrs:{\"placeholder\":\"旧密码\"}})],1),_c('a-form-item',{attrs:{\"wrapper-col\":_vm.wrapperCol}},[_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['newPwd', { rules: [{ required: true, message: '请输入新密码' }] }]),expression:\"['newPwd', { rules: [{ required: true, message: '请输入新密码' }] }]\"}],attrs:{\"placeholder\":\"新密码\"}})],1),_c('a-form-item',{attrs:{\"wrapper-col\":_vm.wrapperCol}},[_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['surePwd', { rules: [{ required: true, message: '请再次确认新密码' }] }]),expression:\"['surePwd', { rules: [{ required: true, message: '请再次确认新密码' }] }]\"}],attrs:{\"placeholder\":\"请确认新密码\"}})],1),_c('a-form-item',[_c('a-button',{attrs:{\"type\":\"primary\",\"html-type\":\"submit\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确认\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-form :form=\"Password\">\n      <a-form-item :wrapper-col=\"wrapperCol\">\n        <a-input-password\n          v-decorator=\"['oldPwd', { rules: [{ required: true, message: '请输入原密码' }] }]\"\n          placeholder=\"旧密码\"\n        />\n      </a-form-item>\n      <a-form-item :wrapper-col=\"wrapperCol\">\n        <a-input-password\n          v-decorator=\"['newPwd', { rules: [{ required: true, message: '请输入新密码' }] }]\"\n          placeholder=\"新密码\"\n        />\n      </a-form-item>\n      <a-form-item :wrapper-col=\"wrapperCol\">\n        <a-input-password\n          v-decorator=\"['surePwd', { rules: [{ required: true, message: '请再次确认新密码' }] }]\"\n          placeholder=\"请确认新密码\"\n        />\n      </a-form-item>\n\n      <a-form-item >\n        <a-button @click=\"handleSubmit\" type=\"primary\" html-type=\"submit\">确认</a-button>\n      </a-form-item>\n    </a-form>\n  </div>\n</template>\n\n<script>\nimport { modifyPassword } from \"@/services/user\";\nexport default {\n  name: \"Password\",\n  data() {\n    return {\n      Password: this.$form.createForm(this, { name: \"password\" }),\n      wrapperCol: { span: 6 }\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.Password.validateFields((err, values) => {\n        if (!err) {\n          if(values.newPwd != values.surePwd) {\n            this.$message.info('两次密码不一致')\n            return\n          }\n          modifyPassword({\n            old_pwd: values.oldPwd,\n            new_pwd: values.newPwd\n          }).then(res => {\n            if(res.ok) {\n              this.$message.success('修改成功')\n            }else {\n              this.$message.error('原密码错误')\n            }\n            this.Password.setFieldsValue({oldPwd:'',newPwd:'',surePwd:''})\n          });\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Password.vue?vue&type=template&id=2181d682&scoped=true&\"\nimport script from \"./Password.vue?vue&type=script&lang=js&\"\nexport * from \"./Password.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2181d682\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <a-tabs defaultActiveKey=\"1\" class=\"setting-tabs\">\n      <a-tab-pane key=\"1\">\n        <span slot=\"tab\">\n          <a-icon type=\"user\" />个人资料\n        </span>\n        <Profile></Profile>\n      </a-tab-pane>\n      <a-tab-pane key=\"2\">\n        <span slot=\"tab\">\n          <a-icon type=\"safety\" />密码修改\n        </span>\n        <Password></Password>\n      </a-tab-pane>\n      <!-- <a-tab-pane key=\"3\">\n        <span slot=\"tab\">\n          <a-icon type=\"global\" />网站设置\n        </span>\n        <SiteSetting></SiteSetting>\n      </a-tab-pane> -->\n    </a-tabs>\n  </div>\n</template>\n\n<script>\nimport Profile from \"@/views/Profile\";\nimport Password from \"@/views/Password\";\n// import SiteSetting from \"@/views/SiteSetting\";\nexport default {\n  name: \"Setting\",\n  components: { Profile, Password },\n  data() {\n    return {};\n  },\n  created() {},\n  methods: {}\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=78fe0106&scoped=true&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78fe0106\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=cbbd6de4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=cbbd6de4&scoped=true&lang=css&\"","import Http from './http'\r\n\r\nexport async function register(password, email, avatar) {\r\n    let par = { data: { password, email, avatar } }\r\n    par.url = '/api/pub/register'\r\n    return await Http.post(par)\r\n}\r\n\r\nexport async function login(email, password) {\r\n    let par = { data: { email, password } }\r\n    par.url = '/api/pub/login'\r\n    return await Http.post(par)\r\n}\r\n\r\nexport async function exists(id) {\r\n    let par = { url: '/api/pub/exists', data: { id } }\r\n    return await Http.get(par)\r\n}\r\n\r\nexport async function getInfo() {\r\n    let par = { url: '/api/user/' }\r\n    return await Http.get(par)\r\n}\r\n\r\nexport async function modifyInfo(data) {\r\n    let par = { url: '/api/user/', data }\r\n    return await Http.put(par)\r\n}\r\nexport async function modifyPassword(data) {\r\n    let par = { url: '/api/user/pwd', data }\r\n    return await Http.put(par)\r\n}","export default {\r\n    qiniuUrl: 'http://puh0vyh1l.bkt.clouddn.com/',\r\n    qiniuUploadUrl: 'http://up-z2.qiniu.com',\r\n    emailPattern: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\r\n    // articleActions: [\r\n    //     { type: 'eye', text: val => val },\r\n    //     { type: 'message', text: val => val },\r\n    //     { type: 'calendar', text: val => val },\r\n    //     { type: 'edit', text: val => val },\r\n    //     { type: 'delete', text: val => val },\r\n    // ],\r\n}"],"sourceRoot":""}