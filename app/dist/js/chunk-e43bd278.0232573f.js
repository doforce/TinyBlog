(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e43bd278"],{"7e2a":function(t,e,a){},a49b:function(t,e,a){"use strict";e["a"]={qiniuUrl:"http://puh0vyh1l.bkt.clouddn.com/",qiniuUploadUrl:"http://up-z2.qiniu.com",emailPattern:/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/}},a55b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-group blog-center"},[a("a-form",{staticClass:"form_login",attrs:{form:t.user}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{pattern:t.emailPattern,message:"邮箱格式错误"}]}],expression:"['email' ,{ rules: [\n        {pattern: emailPattern , message: '邮箱格式错误' }] }]"}],staticClass:"item",attrs:{placeholder:"请输入邮箱账号"}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"global"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password"],expression:"['password']"}],staticClass:"item",attrs:{placeholder:"请输入密码"}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-button",{staticClass:"blog-btn-block",attrs:{type:"primary",block:""},on:{click:t.submitAction}},[t._v(t._s(t.submitLabel))])],1),a("a-form-item",[t._v(" 或 "),a("a-button",{attrs:{type:"link"},on:{click:t.switchPage}},[t._v(t._s(t.switchLabel))])],1)],1)],1)},i=[],r=a("93d6");const o={TIPS_MAIL_WRONG:"邮箱格式错误",TIPS_REGISTER_DONE:"注册成功",TIPS_REGISTER_FAILED:"注册失败",TIPS_FORM_NOT_EMPTY:"表单不能为空",TIPS_LOGIN_FAILED:"用户不存在或密码错误",TIPS_USER_EXISTS:"用户已存在",TIPS_USER_NOT_EXISTS:"用户不存在",BUTTON_LOGIN:"登录",BUTTON_REGISTER:"注册"};var n=o,l=a("c0d6"),c=a("a49b"),m=a("b70e"),T=a.n(m),u={name:"Login",data(){return{user:this.$form.createForm(this,{name:"user"}),emailPattern:c["a"].emailPattern,registerPage:!1,switchLabel:n.BUTTON_REGISTER,submitLabel:n.BUTTON_LOGIN}},watch:{registerPage:function(t){t?(this.switchLabel=n.BUTTON_LOGIN,this.submitLabel=n.BUTTON_REGISTER):(this.switchLabel=n.BUTTON_REGISTER,this.submitLabel=n.BUTTON_LOGIN)}},methods:{submitAction(){this.user.validateFields((t,e)=>{t||(this.registerPage?this.registerAction(e):this.loginAction(e))})},registerAction(t){t.email&&t.password?Object(r["e"])(t.password,t.email,T.a.image.avatar()).then(t=>{t.ok?(this.$message.warning(n.TIPS_REGISTER_DONE),this.registerPage=!1):this.$message.warning(n.TIPS_REGISTER_FAILED)}):this.emailFormatOK?this.$message.warning(n.TIPS_FORM_NOT_EMPTY):this.$message.warning(n.TIPS_MAIL_WRONG)},loginAction(t){t.email&&t.password?Object(r["b"])(t.email,t.password).then(t=>{console.log(t),t.ok?(l["a"].saveToken({token:t.data.token,expire:t.data.expire}),this.$router.push({path:"/admin"})):this.$message.warning(n.TIPS_LOGIN_FAILED)}):this.$message.warning(n.TIPS_FORM_NOT_EMPTY)},switchPage:function(){this.registerPage=!this.registerPage}}},_=u,h=(a("d6db"),a("5511")),g=Object(h["a"])(_,s,i,!1,null,null,null);e["default"]=g.exports},d6db:function(t,e,a){"use strict";var s=a("7e2a"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-e43bd278.0232573f.js.map