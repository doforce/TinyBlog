(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe193a50"],{"0010":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleMenuClick},slot:"overlay"},[t.inIndex?a("a-menu-item",{key:"1"},[a("a-icon",{attrs:{type:"user"}}),t._v("管理 ")],1):a("a-menu-item",{key:"2"},[a("a-icon",{attrs:{type:"home"}}),t._v("首页 ")],1),a("a-menu-item",{key:"3"},[a("a-icon",{attrs:{type:"logout"}}),t._v("登出 ")],1)],1),a("span",[a("a-avatar",{staticClass:"user-avatar",attrs:{icon:"user",src:t.avatar}}),a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"down"}})],1)],1)],1)},r=[],u=a("93d6"),i=a("c0d6"),o={name:"HeaderAvatar",created(){let t=this.$route.name;console.log(t),this.inIndex="home"===t,Object(u["a"])().then(t=>{t.ok&&(this.avatar=t.data.avatar)})},data(){return{avatar:"",inIndex:!1}},methods:{logout(){i["a"].removeToken()},handleMenuClick(t){console.log("click left button",t),"1"===t.key?this.$router.push({path:"/admin"}):"2"===t.key?this.$router.push({path:"/"}):"3"===t.key&&(i["a"].removeToken(),this.$router.push({path:"/login"}))}}},s=o,c=(a("9f29"),a("5511")),l=Object(c["a"])(s,n,r,!1,null,"65500576",null);e["a"]=l.exports},"2a47":function(t,e,a){"use strict";var n=a("b1d4"),r=a.n(n);r.a},"93d6":function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"b",(function(){return u})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return s}));var n=a("0dcc");async function r(t,e,a){let r={data:{password:t,email:e,avatar:a},url:"/api/pub/register"};return await n["a"].post(r)}async function u(t,e){let a={data:{email:t,password:e},url:"/api/pub/login"};return await n["a"].post(a)}async function i(){let t={url:"/api/user/"};return await n["a"].get(t)}async function o(t){let e={url:"/api/user/",data:t};return await n["a"].put(e)}async function s(t){let e={url:"/api/user/pwd",data:t};return await n["a"].put(e)}},"9f29":function(t,e,a){"use strict";var n=a("f766"),r=a.n(n);r.a},b1d4:function(t,e,a){},d504:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-menu",{staticClass:"header",attrs:{type:"flex",justify:"start",mode:"horizontal"},on:{click:t.handleSelect},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},[a("a-menu-item",{key:"home"},[a("a-icon",{attrs:{type:"home"}}),t._v("首页 ")],1),a("a-menu-item",{key:"timeline"},[a("a-icon",{attrs:{type:"calendar"}}),t._v("时间线 ")],1),t.more?a("HeaderAvatar",{staticClass:"user-avatar"}):t._e()],1),a("router-view")],1)},r=[],u=a("c0d6"),i=a("0010"),o={name:"Index",components:{HeaderAvatar:i["a"]},created(){"home"===this.$route.name?this.current=["home"]:"about"===this.$route.name?this.current=["about"]:"timeline"===this.$route.name&&(this.current=["timeline"])},data(){return{current:["article"],BLOG_NAME:"TinyBlog",more:u["a"].checkToken()}},methods:{goIndex(){this.$router.replace("/")},goAbout(){this.$router.push("/about")},handleSelect(t){this.current=[t.key];let e="";"home"===t.key?e="/":"timeline"===t.key?e="/timeline":"about"===t.key&&(e="/about"),this.$router.push(e)}}},s=o,c=(a("2a47"),a("5511")),l=Object(c["a"])(s,n,r,!1,null,"cfca4558",null);e["default"]=l.exports},f766:function(t,e,a){}}]);
//# sourceMappingURL=chunk-fe193a50.f4c6197f.js.map