(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93263a6a"],{"0010":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleMenuClick},slot:"overlay"},[t.inIndex?a("a-menu-item",{key:"1"},[a("a-icon",{attrs:{type:"user"}}),t._v("管理 ")],1):a("a-menu-item",{key:"2"},[a("a-icon",{attrs:{type:"home"}}),t._v("首页 ")],1),a("a-menu-item",{key:"3"},[a("a-icon",{attrs:{type:"logout"}}),t._v("登出 ")],1)],1),a("span",[a("a-avatar",{staticClass:"user-avatar",attrs:{icon:"user",src:t.avatar}}),a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"down"}})],1)],1)],1)},r=[],i=a("93d6"),s=a("c0d6"),u={name:"HeaderAvatar",created(){let t=this.$route.name;console.log(t),this.inIndex="home"===t,Object(i["a"])().then(t=>{t.ok&&(this.avatar=t.data.avatar)})},data(){return{avatar:"",inIndex:!1}},methods:{logout(){s["a"].removeToken()},handleMenuClick(t){console.log("click left button",t),"1"===t.key?this.$router.push({path:"/admin"}):"2"===t.key?this.$router.push({path:"/"}):"3"===t.key&&(s["a"].removeToken(),this.$router.push({path:"/login"}))}}},c=u,o=(a("9f29"),a("5511")),l=Object(o["a"])(c,n,r,!1,null,"65500576",null);e["a"]=l.exports},"345f":function(t,e,a){"use strict";var n=a("3571"),r=a.n(n);r.a},3530:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-menu",{staticClass:"menu",attrs:{type:"flex",justify:"start",mode:"horizontal"},on:{click:t.handleSelect},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},[a("a-menu-item",{key:"article"},[a("a-icon",{attrs:{type:"file-text"}}),t._v("文章 ")],1),a("a-menu-item",{key:"comment"},[a("a-icon",{attrs:{type:"message"}}),t._v("评论 ")],1),a("a-menu-item",{key:"setting"},[a("a-icon",{attrs:{type:"setting"}}),t._v("设置 ")],1),a("a-menu-item",{key:"write",attrs:{disabled:""}},[a("a-button",{attrs:{icon:"edit",id:"addBtn",type:"primary"},on:{click:t.writeArticle}},[t._v("写文章")])],1),a("HeaderAvatar",{staticClass:"user-avatar"})],1),a("router-view",{staticClass:"view"})],1)},r=[],i=a("0010"),s={name:"Admin",components:{HeaderAvatar:i["a"]},data(){return{current:["article"]}},created(){let t=this.$route.name;"admin"===t?this.$router.push("/"):"comments"===t?this.current=["comment"]:"articleList"===t?this.current=["article"]:"setting"===t&&(this.current=["setting"])},methods:{handleSelect(t){this.current=[t.key];let e="";"article"===t.key?e="/admin":"comment"===t.key?e="/admin/comment":"setting"===t.key&&(e="/admin/setting"),this.$router.push(e)},writeArticle(){console.log("write"),this.$router.push({name:"editor_new"})},goIndex(){window.location.href="/"}}},u=s,c=(a("345f"),a("5511")),o=Object(c["a"])(u,n,r,!1,null,"f4fe050c",null);e["default"]=o.exports},3571:function(t,e,a){},"93d6":function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return c}));var n=a("0dcc");async function r(t,e,a){let r={data:{password:t,email:e,avatar:a},url:"/api/pub/register"};return await n["a"].post(r)}async function i(t,e){let a={data:{email:t,password:e},url:"/api/pub/login"};return await n["a"].post(a)}async function s(){let t={url:"/api/user/"};return await n["a"].get(t)}async function u(t){let e={url:"/api/user/",data:t};return await n["a"].put(e)}async function c(t){let e={url:"/api/user/pwd",data:t};return await n["a"].put(e)}},"9f29":function(t,e,a){"use strict";var n=a("f766"),r=a.n(n);r.a},f766:function(t,e,a){}}]);
//# sourceMappingURL=chunk-93263a6a.739d002b.js.map