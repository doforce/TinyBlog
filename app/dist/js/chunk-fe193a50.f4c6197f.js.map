{"version":3,"sources":["webpack:///./src/components/HeaderAvatar.vue?e7c6","webpack:///src/components/HeaderAvatar.vue","webpack:///./src/components/HeaderAvatar.vue?89bb","webpack:///./src/components/HeaderAvatar.vue","webpack:///./src/views/Index.vue?156c","webpack:///./src/services/user.js","webpack:///./src/components/HeaderAvatar.vue?b1dd","webpack:///./src/views/Index.vue?aefb","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?fd1b","webpack:///./src/views/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","handleMenuClick","slot","key","_v","staticClass","avatar","staticStyle","staticRenderFns","name","$route","console","log","inIndex","then","res","ok","data","methods","removeToken","e","$router","push","path","component","async","register","password","email","par","post","login","getInfo","url","get","modifyInfo","put","modifyPassword","handleSelect","model","value","callback","$$v","current","expression","_e","components","HeaderAvatar","BLOG_NAME","more","checkToken","replace","item"],"mappings":"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","file":"js/chunk-fe193a50.f4c6197f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-dropdown',[_c('a-menu',{attrs:{\"slot\":\"overlay\"},on:{\"click\":_vm.handleMenuClick},slot:\"overlay\"},[(_vm.inIndex)?_c('a-menu-item',{key:\"1\"},[_c('a-icon',{attrs:{\"type\":\"user\"}}),_vm._v(\"管理 \")],1):_c('a-menu-item',{key:\"2\"},[_c('a-icon',{attrs:{\"type\":\"home\"}}),_vm._v(\"首页 \")],1),_c('a-menu-item',{key:\"3\"},[_c('a-icon',{attrs:{\"type\":\"logout\"}}),_vm._v(\"登出 \")],1)],1),_c('span',[_c('a-avatar',{staticClass:\"user-avatar\",attrs:{\"icon\":\"user\",\"src\":_vm.avatar}}),_c('a-icon',{staticStyle:{\"margin-left\":\"6px\"},attrs:{\"type\":\"down\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- <a-dropdown placement=\"bottomRight\">\r\n      <a-avatar class=\"user-avatar\" icon=\"user\" :src=\"avatar\"></a-avatar>\r\n      <a-menu slot=\"overlay\">\r\n        <a-menu-item v-if=\"inIndex\">\r\n          <a class=\"header-font-size\" href=\"/admin\">管理</a>\r\n        </a-menu-item>\r\n        <a-menu-item v-else>\r\n          <a class=\"header-font-size\" href=\"/\">主页</a>\r\n        </a-menu-item>\r\n        <a-menu-item>\r\n          <a @click=\"logout\" href=\"/login\" class=\"header-font-size\">登出</a>\r\n        </a-menu-item>\r\n      </a-menu>\r\n    </a-dropdown>-->\r\n\r\n    <!-- <a-popover placement=\"bottom\" class=\"user-avatar\">\r\n      <template slot=\"content\">\r\n        <a-menu @click=\"handleMenuClick\">\r\n          <a-menu-item key=\"1\" v-if=\"inIndex\">\r\n            <a-icon type=\"user\" />管理\r\n          </a-menu-item>\r\n          <a-menu-item key=\"2\" v-else>\r\n            <a-icon type=\"user\" />主页\r\n          </a-menu-item>\r\n          <a-menu-item key=\"3\">\r\n            <a-icon type=\"user\" />登出\r\n          </a-menu-item>\r\n        </a-menu>\r\n      </template>\r\n      <a-avatar icon=\"user\" :src=\"avatar\"></a-avatar>\r\n      <a-icon type=\"caret-down\" />\r\n    </a-popover>-->\r\n    <a-dropdown>\r\n      <a-menu slot=\"overlay\" @click=\"handleMenuClick\">\r\n        <a-menu-item v-if=\"inIndex\" key=\"1\">\r\n          <a-icon type=\"user\" />管理\r\n        </a-menu-item>\r\n        <a-menu-item key=\"2\" v-else>\r\n          <a-icon type=\"home\" />首页\r\n        </a-menu-item>\r\n        <a-menu-item key=\"3\">\r\n          <a-icon type=\"logout\" />登出\r\n        </a-menu-item>\r\n      </a-menu>\r\n      <span>\r\n        <a-avatar class=\"user-avatar\" icon=\"user\" :src=\"avatar\"></a-avatar>\r\n        <a-icon style=\"margin-left: 6px\" type=\"down\" />\r\n      </span>\r\n    </a-dropdown>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getInfo } from \"@/services/user\";\r\nimport { Token } from \"@/store\";\r\n\r\nexport default {\r\n  name: \"HeaderAvatar\",\r\n  created() {\r\n    let name = this.$route.name;\r\n    console.log(name);\r\n    if (\"home\" === name) {\r\n      this.inIndex = true;\r\n    } else {\r\n      this.inIndex = false;\r\n    }\r\n\r\n    getInfo().then(res => {\r\n      if (res.ok) {\r\n        this.avatar = res.data.avatar;\r\n      }\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      avatar: \"\",\r\n      inIndex: false\r\n    };\r\n  },\r\n  methods: {\r\n    logout() {\r\n      Token.removeToken();\r\n    },\r\n    handleMenuClick(e) {\r\n      console.log(\"click left button\", e);\r\n      if (e.key === \"1\") {\r\n        this.$router.push({ path: \"/admin\" });\r\n      } else if (e.key === \"2\") {\r\n        this.$router.push({ path: \"/\" });\r\n      } else if (e.key === \"3\") {\r\n        Token.removeToken();\r\n        this.$router.push({ path: \"/login\" });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-avatar {\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./HeaderAvatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./HeaderAvatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderAvatar.vue?vue&type=template&id=65500576&scoped=true&\"\nimport script from \"./HeaderAvatar.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderAvatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeaderAvatar.vue?vue&type=style&index=0&id=65500576&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65500576\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=cfca4558&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=cfca4558&scoped=true&lang=css&\"","import Http from './http'\r\n\r\nexport async function register(password, email, avatar) {\r\n    let par = { data: { password, email, avatar } }\r\n    par.url = '/api/pub/register'\r\n    return await Http.post(par)\r\n}\r\n\r\nexport async function login(email, password) {\r\n    let par = { data: { email, password } }\r\n    par.url = '/api/pub/login'\r\n    return await Http.post(par)\r\n}\r\n\r\nexport async function exists(id) {\r\n    let par = { url: '/api/pub/exists', data: { id } }\r\n    return await Http.get(par)\r\n}\r\n\r\nexport async function getInfo() {\r\n    let par = { url: '/api/user/' }\r\n    return await Http.get(par)\r\n}\r\n\r\nexport async function modifyInfo(data) {\r\n    let par = { url: '/api/user/', data }\r\n    return await Http.put(par)\r\n}\r\nexport async function modifyPassword(data) {\r\n    let par = { url: '/api/user/pwd', data }\r\n    return await Http.put(par)\r\n}","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./HeaderAvatar.vue?vue&type=style&index=0&id=65500576&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./HeaderAvatar.vue?vue&type=style&index=0&id=65500576&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-menu',{staticClass:\"header\",attrs:{\"type\":\"flex\",\"justify\":\"start\",\"mode\":\"horizontal\"},on:{\"click\":_vm.handleSelect},model:{value:(_vm.current),callback:function ($$v) {_vm.current=$$v},expression:\"current\"}},[_c('a-menu-item',{key:\"home\"},[_c('a-icon',{attrs:{\"type\":\"home\"}}),_vm._v(\"首页 \")],1),_c('a-menu-item',{key:\"timeline\"},[_c('a-icon',{attrs:{\"type\":\"calendar\"}}),_vm._v(\"时间线 \")],1),(_vm.more)?_c('HeaderAvatar',{staticClass:\"user-avatar\"}):_vm._e()],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-menu\n      type=\"flex\"\n      justify=\"start\"\n      class=\"header\"\n      v-model=\"current\"\n      mode=\"horizontal\"\n      @click=\"handleSelect\"\n    >\n      <a-menu-item key=\"home\">\n        <a-icon type=\"home\" />首页\n      </a-menu-item>\n      <a-menu-item key=\"timeline\">\n        <a-icon type=\"calendar\" />时间线\n      </a-menu-item>\n      <!-- <a-menu-item key=\"about\">\n        <a-icon type=\"user\" />关于\n      </a-menu-item>-->\n    <!-- <a-menu-item disabled> -->\n    <HeaderAvatar class=\"user-avatar\" v-if=\"more\"></HeaderAvatar>\n    <!-- </a-menu-item> -->\n    </a-menu>\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport { Token } from \"@/store\";\nimport HeaderAvatar from \"@/components/HeaderAvatar\";\n\nexport default {\n  name: \"Index\",\n  components: { HeaderAvatar },\n  created() {\n    if (this.$route.name === \"home\") {\n      this.current = [\"home\"];\n    } else if (this.$route.name === \"about\") {\n      this.current = [\"about\"];\n    } else if (this.$route.name === \"timeline\") {\n      this.current = [\"timeline\"];\n    }\n  },\n  data() {\n    return {\n      current: [\"article\"],\n      BLOG_NAME: process.env.VUE_APP_BLOG_NAME,\n      more: Token.checkToken(),\n    };\n  },\n  methods: {\n    goIndex() {\n      this.$router.replace(\"/\");\n    },\n    goAbout() {\n      this.$router.push(\"/about\");\n    },\n    handleSelect(item) {\n      this.current = [item.key];\n      let path = \"\";\n      if (\"home\" === item.key) {\n        path = \"/\";\n      } else if (\"timeline\" === item.key) {\n        path = \"/timeline\";\n      } else if (\"about\" === item.key) {\n        path = \"/about\";\n      }\n      this.$router.push(path);\n    },\n  }\n};\n</script>\n\n<style scoped>\n.header {\n  background-color: rgb(245, 245, 245);\n  height: 48px;\n  color: black;\n  font-size: 14px;\n}\n\n.header-font-size {\n  font-size: 14px;\n}\n.user-avatar {\n  float: right;\n  margin-right: 36px;\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=cfca4558&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=cfca4558&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cfca4558\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}